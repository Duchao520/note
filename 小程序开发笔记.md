## 小程序开发日志

##### 2019/12/09

问题：小程序安卓机支付完成进入微信后台页面时，调用**wx.reLauch**失败报错

系统：安卓

原因：小程序在进入后台不能调用小程序方法,在安卓内

兼容:  setTimeout进行延迟；

```js
wx.requestPayment({
    nonceStr,
    package: _package,
    paySign,
    signType,
    timeStamp,
    success: res => {
      setTimeout(() => {
        wx.reLaunch({
          url: '/pages/TC/pages/paySuccess/paySuccess'
        })
      })
    },
    fail: res => {
      wx.$showLoading()
      const url = 'billingCancel'
      request.post(url, cancelParams).then(res => {
        wx.$hideLoading()
        if (res.data.success) {
          wx.showToast({
            title: '支付取消',
          })
        }
      })
    }
  })
```



##### 2019/12/16

问题：小程序IOS swiper-item设置style宽高，分享小程序卡片再打开时，swiper-item内为空白，安卓下正常,IOS9.3正常，IOS其它版本未知；

系统：IOS13；

兼容：swiper-item不设置宽高样式，通过block占位元素修改；

```html
<swiper class="image-swiper" indicator-dots autoplay interval='3000' duration='1000' circular>
	<block wx:for="{{productInfo.productImage}}" wx:key="index">
		<swiper-item>
			<image src="{{format.getImageUrl(item)}}" class="slide-image" width="750rpx" height="750rpx" mode='aspectFill' bindtap='$previewImage' data-current="{{format.getImageUrl(item)}}" data-urls="{{format.getImageArr(productInfo.productImage)}}" lazy-load/>
		</swiper-item>
	</block>
</swiper>
```

